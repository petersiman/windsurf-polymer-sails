<!doctype html>
<dom-module id="detail-view">
		<link rel="import" href="../../elements/contact-form/contact-form.html">
		<template>
			<style is="detail-view-style">
			</style>
      <paper-dialog id="detailDialog">
        <h2>[[advert.title]]</h2>
				<div>
					<template is="dom-repeat" items="{{advert.images}}" as="image" indexAs="index">
							<iron-image>
									src="http://res.cloudinary.com/dk2nkldll/h_300/[[image]]">
							</iron-image>
					</template>
				</div>

				<p>Typ: [[advert.advertType]]</p>
				<p>Cateogory: [[advert.advertCategory]]</p>
        <p>[[advert.advertBody]]</p>
				<p>Price: [[advert.price]]&nbsp;Kc</p>
				<paper-button on-click="_toggleContactForm">Contact...</paper-button>
				<iron-collapse id="contactFormCollapse">
						<contact-form></contact-form>
				</iron-collapse>
        <div class="buttons">
          <paper-button dialog-dismiss>Close</paper-button>
        </div>
      </paper-dialog>
    </template>
    <script>
      Polymer({
        is: "detail-view",
        properties: {
          advert: {
            type: Object,
            value: {}
          }
        },
        openDialog: function(advert){
					this.advert = advert;
          this.$.detailDialog.open();
        },
				_isCoverImage: function(index){
					return index === 0;
				},
				_toggleContactForm: function(){
					this.$.contactFormCollapse.toggle();
				}
      });
    </script>
</dom-module>
